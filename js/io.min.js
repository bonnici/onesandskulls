function textToJson(e){var r=new DOMParser,t=r.parseFromString(e,"text/xml"),n=getJXONTree(t);return n}function parseText(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):isFinite(Date.parse(e))?new Date(e):e}function getJXONTree(e){var r=!0,t=0,n="";if(e.hasChildNodes())for(var o,i,s,a=0;a<e.childNodes.length;a++)o=e.childNodes.item(a),4===o.nodeType?n+=o.nodeValue:3===o.nodeType?n+=o.nodeValue.trim():1!==o.nodeType||o.prefix||(0===t&&(r={}),i=o.nodeName.toLowerCase(),s=getJXONTree(o),r.hasOwnProperty(i)?(r[i].constructor!==Array&&(r[i]=[r[i]]),r[i].push(s)):(r[i]=s,t++));return n&&(t>0?r.keyValue=parseText(n):r=parseText(n)),r}zip.workerScriptsPath="/js/lib/zipjs/",io={xmlToJson:function(e,r,t){zip.createReader(new zip.BlobReader(fileInput.files[0]),function(e){e.getEntries(function(n){return 0==n.length?void t("No entries from reader"):void n[0].getData(new zip.TextWriter,function(t){var n=textToJson(t);e.close(function(){}),r(n)},function(e,r){})})},function(e){console.error("Error reading ZIP"),console.error(e),t("Could not extract ZIP file")})}};